<!DOCTYPE html>
<html>
  <head>
    <title>Socket.IO Example</title>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        var socket = io.connect('https://k810aef055275a.user-app.krampoline.com');

        var button = document.getElementById('myButton');
        button.addEventListener('click', function () {
          socket.emit('buttonClicked', 'Button was clicked!');
        });
          
        socket.on("hello", () => {
            console.log("hello");
        });
        
        var fileInput = document.getElementById('fileInput');
        var uploadButton = document.getElementById('uploadButton');

        uploadButton.addEventListener('click', function () {
          var file = fileInput.files[0];
          var formData = new FormData();
          formData.append('file', file);

          fetch('/upload', {
            method: 'POST',
            body: formData,
          })
          .then(response => response.text())
          .then(data => console.log(data))
          .catch(error => console.error('Error:', error));
        });

      });
    </script>
  </head>
  <body>
    <h1>Hello Socket.IO!</h1>
    <button id="myButton">Click Me</button>
    <br/><br/>
    <input type="file" id="fileInput">
    <button id="uploadButton">Upload File</button>
  </body>
</html>
